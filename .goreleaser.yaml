project_name: terraform-launch

before:
  hooks: []

builds:
- binary: terraform-launch
  env:
    - CGO_ENABLED=0
  goos:
    - darwin  # MacOS
    - windows
    - linux
  goarch:
    - amd64
  ldflags: -s -extldflags "-static" -X main.buildVersion={{.Version}}

archives:
  - id: main
    name_template: "{{.ProjectName}}-{{.Os}}-{{.Arch}}"
    format_overrides:
      - goos: windows
        format: zip
    files:
      - none*  # only package the binary - not defaults: readme, license, changelog

checksum:
  name_template: 'SHA256SUMS.txt'

release:
  github:
    owner: mesosphere-incubator
    name: terraform-launch
  draft: true
  prerelease: auto
